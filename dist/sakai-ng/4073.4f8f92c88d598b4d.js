"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[4073],{4073:(H,_,s)=>{s.r(_),s.d(_,{PagesModule:()=>D});var d=s(177),r=s(4007),g=s(1141),m=s(4582),x=s(1985),e=s(4438),u=s(6814),f=s(5779);const k=()=>["editor"];function E(i,a){1&i&&(e.j41(0,"tr")(1,"th",7),e.EFF(2,"Orden"),e.k0s(),e.j41(3,"th",7),e.EFF(4,"P\xe1gina"),e.k0s(),e.j41(5,"th",7),e.EFF(6,"Acciones"),e.k0s()())}function F(i,a){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td",8),e.EFF(2),e.k0s(),e.j41(3,"td",7),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"span",9),e.nrm(7,"button",10),e.j41(8,"button",11),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.removePage(n.id))}),e.k0s()()()()}if(2&i){const t=a.$implicit;e.R7$(2),e.JRh(t.id),e.R7$(2),e.JRh(t.name),e.R7$(3),e.Y8G("routerLink",e.lJ4(3,k))}}function v(i,a){if(1&i&&(e.qex(0),e.j41(1,"p-table",4),e.DNE(2,E,7,0,"ng-template",5)(3,F,9,4,"ng-template",6),e.k0s(),e.bVm()),2&i){const t=a.ngIf,o=e.XpG();e.R7$(),e.Y8G("value",t)("paginator",!0)("selection",o.selectedRow)("rows",10)}}let I=(()=>{class i{constructor(t){this._editorService=t,this.selectedRow=[],this.lastId=0,this.pages$=new x.c}ngOnInit(){this.pages$=this._editorService.pages$,this.pages$.subscribe({next:t=>{this.lastId=t.length}})}removePage(t){this._editorService.removePage(t)}addPage(){this.lastId++,this._editorService.addPage({id:this.lastId,name:"Pagina nueva",widgets:[]})}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(u.x))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-pages"]],standalone:!0,features:[e.aNF],decls:7,vars:3,consts:[[1,"card"],[1,"flex","flex-row","gap-4","justify-content-between"],["pButton","","pRipple","","label","Agregar P\xe1gina","icon","pi pi-plus",3,"click"],[4,"ngIf"],["responsiveLayout","scroll",3,"value","paginator","selection","rows"],["pTemplate","header"],["pTemplate","body"],[2,"width","200px"],[1,"font-bold",2,"width","200px"],[1,"p-buttonset"],["pButton","","pRipple","","label","Editar","icon","pi pi-check",3,"routerLink"],["pButton","","pRipple","","label","Borrar","icon","pi pi-trash",1,"p-button-danger",3,"click"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"h4"),e.EFF(3,"Administrador de P\xe1ginas de Contenido"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return n.addPage()}),e.k0s()(),e.DNE(5,v,4,4,"ng-container",3),e.nI1(6,"async"),e.k0s()),2&o&&(e.R7$(5),e.Y8G("ngIf",e.bMT(6,1,n.pages$)))},dependencies:[m.bG,m.XI,f.Ei,g.tm,g._f,r.iI,r.Wk,d.MD,d.bT,d.Jj]})}}return i})();var h=s(2242),C=s(6701),b=s(7899),c=s(4341),j=s(8833),P=s(5901);const T=()=>["/content-manager/pages"],R=()=>({"max-height":"30rem"});function y(i,a){if(1&i&&(e.j41(0,"div",15),e.nrm(1,"img",16),e.EFF(2," \xa0 "),e.j41(3,"span",17),e.EFF(4),e.k0s()()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("src",t.url,e.B4B),e.R7$(3),e.JRh(t.label)}}function w(i,a){if(1&i&&(e.j41(0,"div",15),e.nrm(1,"img",16),e.EFF(2," \xa0 "),e.j41(3,"span",17),e.EFF(4),e.k0s()()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("src",t.url,e.B4B),e.R7$(3),e.JRh(t.label)}}function B(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",1)(1,"div",20)(2,"div",24)(3,"label",21),e.EFF(4,"Imagen del slider"),e.k0s(),e.j41(5,"p-dropdown",25),e.mxI("ngModelChange",function(n){const l=e.eBV(t).$implicit;return e.DH7(l.url,n)||(l.url=n),e.Njj(n)}),e.DNE(6,w,5,2,"ng-template",10),e.k0s()(),e.j41(7,"div",26)(8,"div",27)(9,"label",21),e.EFF(10,"T\xedtulo"),e.k0s(),e.j41(11,"input",28),e.bIt("keydown.space",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.mxI("ngModelChange",function(n){const l=e.eBV(t).$implicit;return e.DH7(l.cardTitle,n)||(l.cardTitle=n),e.Njj(n)}),e.k0s()(),e.j41(12,"div",27)(13,"label",21),e.EFF(14,"\xc9nfasis"),e.k0s(),e.j41(15,"input",28),e.bIt("keydown.space",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.mxI("ngModelChange",function(n){const l=e.eBV(t).$implicit;return e.DH7(l.cardBigText,n)||(l.cardBigText=n),e.Njj(n)}),e.k0s()()(),e.j41(16,"div",26)(17,"div",27)(18,"label",21),e.EFF(19,"Texto del Bot\xf3n"),e.k0s(),e.j41(20,"input",28),e.bIt("keydown.space",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.mxI("ngModelChange",function(n){const l=e.eBV(t).$implicit;return e.DH7(l.buttonText,n)||(l.buttonText=n),e.Njj(n)}),e.k0s()(),e.j41(21,"div",27)(22,"label",21),e.EFF(23,"URL del Bot\xf3n"),e.k0s(),e.j41(24,"input",28),e.bIt("keydown.space",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.mxI("ngModelChange",function(n){const l=e.eBV(t).$implicit;return e.DH7(l.urlButton,n)||(l.urlButton=n),e.Njj(n)}),e.k0s()()(),e.j41(25,"div",26)(26,"div",27)(27,"label",21),e.EFF(28,"Hashtag"),e.k0s(),e.j41(29,"input",28),e.bIt("keydown.space",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.mxI("ngModelChange",function(n){const l=e.eBV(t).$implicit;return e.DH7(l.cardHashtag,n)||(l.cardHashtag=n),e.Njj(n)}),e.k0s()()()(),e.j41(30,"div",8)(31,"div"),e.EFF(32,"\xa0"),e.k0s(),e.j41(33,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.removeNWidgetItem())}),e.k0s()()()}if(2&i){const t=a.$implicit,o=e.XpG(3);e.R7$(5),e.Y8G("options",o.hslideImages),e.R50("ngModel",t.url),e.R7$(6),e.R50("ngModel",t.cardTitle),e.R7$(4),e.R50("ngModel",t.cardBigText),e.R7$(5),e.R50("ngModel",t.buttonText),e.R7$(4),e.R50("ngModel",t.urlButton),e.R7$(5),e.R50("ngModel",t.cardHashtag)}}function M(i,a){if(1&i&&e.Z7z(0,B,34,7,"div",1,e.Vm6),2&i){const t=e.XpG().$implicit;e.Dyx(t.properties.slides)}}function $(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",18)(1,"div",19)(2,"div",20)(3,"label",21),e.EFF(4),e.k0s(),e.j41(5,"p-button",22),e.bIt("onClick",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.insertSlide(n))}),e.k0s(),e.j41(6,"p-button",23),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.removeNWidgetItem())}),e.k0s(),e.DNE(7,M,2,0),e.k0s()()()}if(2&i){const t=a.$implicit;e.R7$(4),e.JRh(t.name),e.R7$(3),e.vxM(7,t&&"hero-slider"==t.type?7:-1)}}function N(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",33)(1,"div",34)(2,"div",35)(3,"div",36)(4,"div")(5,"div",37),e.EFF(6),e.k0s()()(),e.j41(7,"div",38)(8,"div",39)(9,"p-button",40),e.bIt("onClick",function(){const n=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.addWidget(n))}),e.k0s()()()()()()}if(2&i){const t=a.$implicit;e.R7$(6),e.JRh(t.name)}}function V(i,a){if(1&i&&(e.j41(0,"div",32),e.Z7z(1,N,10,1,"div",33,e.fX1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Dyx(t)}}function S(i,a){if(1&i&&(e.j41(0,"div",1)(1,"h4",3),e.EFF(2,"Selecciona un widget"),e.k0s(),e.j41(3,"p-dataView",30,0),e.DNE(5,V,3,0,"ng-template",31),e.k0s()()),2&i){const t=e.XpG();e.R7$(3),e.Y8G("value",t.availableWidgets)}}const W=[{path:"",component:I},{path:"editor",component:(()=>{class i{constructor(t){this._editorService=t,this.bgImage="",this.hslideImages=[{url:"https://cdn.pixabay.com/photo/2021/04/27/04/19/girl-6210483_1280.jpg",label:"Woman Student"},{url:"https://cdn.pixabay.com/photo/2015/07/17/22/43/student-849821_1280.jpg",label:"Student 2"},{url:"https://images.pexels.com/photos/1438072/pexels-photo-1438072.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",label:"Image 3"}],this.isVisibleWidgetSelector=!1,this.selectedItems=[],this.currentPageInEdition="Inicio",this.availableWidgets=[{name:"Slider de contenido",type:"content-slider",icon:""},{name:"Segmento Multimedia",type:"multimedia",icon:""},{name:"Slider de noticias",type:"news",icon:""},{name:"Slider de imagenes Principal",type:"hero-slider",icon:""}],this.pageWidgets=[]}toggleWidgetMenu(){this.isVisibleWidgetSelector=!this.isVisibleWidgetSelector}addWidget(t){"hero-slider"==t.type&&this.pageWidgets.push({name:t.name,type:t.type,properties:{slides:[]}})}removeNWidgetItem(){this.pageWidgets=this.pageWidgets.filter(t=>!this.selectedItems.includes(t)),this.selectedItems=[]}insertSlide(t){t.properties.slides.push({url:"",cardTitle:"",cardBigText:"",cardHashtag:"",buttonText:"",urlButton:""})}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(u.x))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-page-editor"]],standalone:!0,features:[e.aNF],decls:25,vars:12,consts:[["dv",""],[1,"card"],["pButton","","pRipple","","type","button","label","Regresar","icon","pi pi-arrow-left",1,"p-button-text","p-button-plain",3,"routerLink"],[1,"font-semibold"],[1,"flex","flex-row"],[1,"flex","flex-column","gap-2",2,"width","50%"],["for","texto",1,"font-semibold"],["pInputText","",1,"w-full","md:w-30rem","mb-5"],[1,"flex","flex-column","gap-2"],["placeholder","Selecciona una imagen de fondo","appendTo","body",3,"ngModelChange","options","ngModel"],["pTemplate","item"],[3,"selectionChange","value","selection","listStyle","dragdrop","header"],["pTemplate","items"],[1,"mt-4"],["label","Insertar widget","styleClass","p-button-link",3,"onClick"],[1,"flex","align-items-center"],[2,"width","60px",3,"src"],[2,"width","60px"],[1,"flex","flex-wrap","p-2","align-items-center","gap-8"],[1,"flex-1","flex","flex-row","gap-2"],[1,"flex","flex-column","gap-2","w-full"],["for","texto"],["label","Insertar slider","styleClass","p-button-link",3,"onClick"],["label","Eliminar Widget","styleClass","p-button-danger",3,"onClick"],[1,"flex","flex-column","gap-2","mt-3"],["placeholder","Selecciona una imagen para el slider","appendTo","body",3,"ngModelChange","options","ngModel"],[1,"flex","flex-row","gap-4"],[1,"flex","flex-column",2,"width","50%"],["pInputText","",1,"w-full","md:w-30rem","mb-5",3,"keydown.space","ngModelChange","ngModel"],["label","Eliminar Slide","pButton","","pRipple","","type","button",1,"p-button-rounded","p-button-text","p-button-danger","mb-5",3,"click"],[3,"value"],["pTemplate","list"],[1,"grid","grid-nogutter"],[1,"col-12"],[1,"flex","flex-column","sm:flex-row","sm:align-items-center","p-4","gap-3"],[1,"flex","flex-column","md:flex-row","justify-content-between","md:align-items-center","flex-1","gap-4"],[1,"flex","flex-row","md:flex-column","justify-content-between","align-items-start","gap-2"],[1,"text-lg","font-medium","text-900","mt-2"],[1,"flex","flex-column","md:align-items-end","gap-5"],[1,"flex","flex-row-reverse","md:flex-row","gap-2"],["icon","pi pi-plus","label","Agregar Widget",1,"flex-auto","md:flex-initial","white-space-nowrap",3,"onClick"]],template:function(o,n){1&o&&(e.j41(0,"div",1),e.nrm(1,"button",2),e.j41(2,"h4",3),e.EFF(3),e.k0s(),e.j41(4,"div",1)(5,"div",4)(6,"div",5)(7,"label",6),e.EFF(8,"Nombre P\xe1gina"),e.k0s(),e.nrm(9,"input",7),e.k0s(),e.j41(10,"div",5)(11,"label",6),e.EFF(12,"URL P\xe1gina"),e.k0s(),e.nrm(13,"input",7),e.k0s(),e.j41(14,"div",8)(15,"label",6),e.EFF(16,"Imagen de Fondo de la p\xe1gina"),e.k0s(),e.j41(17,"p-dropdown",9),e.mxI("ngModelChange",function(p){return e.DH7(n.bgImage,p)||(n.bgImage=p),p}),e.DNE(18,y,5,2,"ng-template",10),e.k0s()()(),e.j41(19,"div",1)(20,"p-orderList",11),e.mxI("selectionChange",function(p){return e.DH7(n.selectedItems,p)||(n.selectedItems=p),p}),e.DNE(21,$,8,2,"ng-template",12),e.k0s(),e.nrm(22,"div",13),e.j41(23,"p-button",14),e.bIt("onClick",function(){return n.toggleWidgetMenu()}),e.k0s(),e.DNE(24,S,6,1,"div",1),e.k0s()()()),2&o&&(e.R7$(),e.Y8G("routerLink",e.lJ4(10,T)),e.R7$(2),e.SpI("Editor de P\xe1gina - ",n.currentPageInEdition,""),e.R7$(14),e.Y8G("options",n.hslideImages),e.R50("ngModel",n.bgImage),e.R7$(3),e.Y8G("value",n.pageWidgets),e.R50("selection",n.selectedItems),e.Y8G("listStyle",e.lJ4(11,R))("dragdrop",!0)("header","Widgets insertados en la p\xe1gina ("+n.pageWidgets.length+")"),e.R7$(4),e.vxM(24,n.isVisibleWidgetSelector?24:-1))},dependencies:[r.iI,r.Wk,d.MD,g.tm,g._f,g.$n,f.Ei,h.u,h.S,C.KQ,C.U$,b.N,b.F,c.YN,c.me,c.BC,c.vS,j.kr,j.ms,P.xs],styles:[".p-orderlist-controls{display:none}"]})}}return i})()}];let G=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[r.iI.forChild(W),r.iI]})}}return i})(),D=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[d.MD,G,m.bG,r.iI]})}}return i})()}}]);